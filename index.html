<html>
<div id="root"></div>
<script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone@7.8.3/babel.min.js"></script>
<script src="https://unpkg.com/prop-types@15.6.1/prop-types.min.js"></script>
<script type="text/babel">
    const rootElement = document.getElementById('root')
    const Form = (props) => (
        <div>
            <form>
                <label htmlFor="name">Enter the name</label>
                <input
                    value={props.name}
                    id="name"
                    onChange={props.handleChange}
                />
            </form>
            {props.name ? `Hello ${props.name}` : 'Please enter you name'}
        </div>
    )

    const Greeting = () => {
        // initialize the state with what is in the local storage
        const [name, setName] = React.useState(() => window.localStorage.getItem('name') || '')

        // on name change store the name into the localstorage
        React.useEffect(() => window.localStorage.setItem('name', name))

        const handleChange = (event) => setName(event.target.value)

        return <Form handleChange={handleChange} name={name}/>
    }

    ReactDOM.render(<Greeting/>, rootElement)
</script>
</html>